<div class="menu__container">
  <div class="row w-100 h-100 m-mb-0 d-mb-block">
    <div class="col-sm-3 col-md-4 col-lg-3 p-mb-0">
      <ul class="navbar__menu-list">
        <li (click)="getTypeOfGet(0)" [ngClass]="checkGetAll==true?'active':null">Tất cả</li>
        <li (click)="getTypeOfGet(productType.idTypeProduct)"
          [ngClass]="checkGetAll == false && idTypeProduct == productType.idTypeProduct?'active':null"
          *ngFor="let productType of typeProducts">{{productType.nameTypeProduct}}</li>
      </ul>

      <ul (click)="showMenuOnPhone()" class="navbar__menu-list-on-phone">
        <li>
          <h3>Menu</h3>
        </li>
        <li>
          <i class="fa-solid fa-list"></i>
        </li>

        <ul *ngIf="showMenuPhone" class="navbar__menu-list-child">
          <li (click)="getTypeOfGet(0)" [ngClass]="checkGetAll==true?'active':null">Tất cả</li>
          <li (click)="getTypeOfGet(productType.idTypeProduct)"
            [ngClass]="checkGetAll == false && idTypeProduct == productType.idTypeProduct?'active':null"
            *ngFor="let productType of typeProducts">{{productType.nameTypeProduct}}</li>
        </ul>
      </ul>
    </div>

    <div class="col-sm-9 col-md-8 col-lg-9">
      <div class="row">
        <div class="col-md-12 col-lg-12">
          <div class="row">
            <div class="col-md-6" *ngFor="let product of products">
              <div class="menu__item">
                <div class="menu__item-img-group">
                  <img src="./assets/img/coffee.jpg" alt="">
                </div>

                <div class="menu__item-body">
                  <div class="info">
                    <span class="name">{{product.nameProduct}}</span>
                    <span class="price">
                      {{product.priceProduct | number: '1.0-0'}}đ
                    </span>
                  </div>
                  <div (click)="getProductById(product.idProduct)" class="btn button btn-buy" data-toggle="modal" data-target="#modal1">
                    <i class="fa-solid fa-plus"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <ul class="pagination justify-content-center">
            <li (click)="prevPage(true)" *ngIf="currentPage != 0">
              <i class="fa-solid fa-angle-left"></i>
            </li>
            <li (click)="redirectPagination(tg+1 ,true)"
              *ngFor="let tg of totalPageArray" [ngClass]="activedButton==tg+1?'active':null">{{tg + 1}}</li>
            <li (click)="nextPage(true)" *ngIf="this.activedButton != this.totalPageArray.length">
              <i class="fa-solid fa-angle-right"></i>
            </li>
          </ul>
        </div>

        <div class="col-md-12 col-lg-12">
          <div class="menu__item-left-area">
            <table class="table__order-item">
              <tr>
                <th></th>
                <th>STT</th>
                <th>Tên món</th>
                <th>Số lượng</th>
                <th>Giá</th>
                <th>Tổng tiền</th>
                <th>Thời gian chờ</th>
              </tr>

              <ng-container *ngIf="dataDTOExisting">
                <tr *ngFor="let menuOrderDTO of menuOrderDTOs;let i = index">
                  <td>
                    <input type="checkbox" (change)="checkFoodChosen(menuOrderDTO.orderDetailId)">
                  </td>
                  <td>{{i + 1}}</td>
                  <td>{{menuOrderDTO.nameProduct}}</td>
                  <td>{{menuOrderDTO.quantity}}</td>
                  <td>{{menuOrderDTO.price |number:'1.0'}} đ</td>
                  <td>{{menuOrderDTO.totalPrice| number:'1.0'}}đ</td>
                  <td>{{counter | formatTime}}</td>
                </tr>
              </ng-container>
            </table>

            <ng-container *ngIf="dataDTOExisting">
              <ul class="pagination justify-content-center">
                <li (click)="prevPage(false)" *ngIf="currentPageTable != 0">
                  <i class="fa-solid fa-angle-left"></i>
                </li>
                <li (click)="redirectPagination(tg+1, false)"
                  *ngFor="let tg of totalPageTableArray" [ngClass]="activedButtonTable==tg+1?'active':null">{{tg + 1}}</li>
                <li (click)="nextPage(false)" *ngIf="this.activedButtonTable != this.totalPageTableArray.length">
                  <i class="fa-solid fa-angle-right"></i>
                </li>
              </ul>
            </ng-container>

            <div class="menu__item-function row">
              <div class="col-4 col-md-4 col-lg-4 d-flex justify-content-center">
                <button class="button"  data-toggle="modal" data-target="#deleteModal">Xoá món</button>
              </div>
              <div class="col-4 col-md-4 col-lg-4 d-flex justify-content-center">
                <button type="button" class="button" data-toggle="modal" data-target="#orderModal">Gọi món</button>
              </div>
              <div class="col-4 col-md-4 col-lg-4 d-flex justify-content-center">
                <button type="button" class="button" data-toggle="modal" data-target="#paymentModal">
                  Tính tiền
                </button>
              </div>
            </div>

            <div class="footer">
              <div class="info">
                <p>
                  <span>Số bàn: TB001</span>
                </p>

                <p>
                  <span>Ngày: 10/10/2021</span>
                </p>
              </div>

              <div class="d-flex align-items-center">
                <button class="button mr-3">Gọi phục vụ</button>
                <button class="button">Phản hồi</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Order -->
<div class="modal fade" id="orderModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Gọi món</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Bạn có muốn gọi món không?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="handleOrder()" style="background: #fa8c16">Đồng ý</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Delete -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Xoá món</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Bạn có muốn xóa những món này không?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="handleDeleteFood()" style="background: #fa8c16">Đồng ý</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Payment -->
<div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Thanh toán</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Bạn có muốn tính tiền không?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="handlePayment()" style="background: #fa8c16">Tính tiền</button>
      </div>
    </div>
  </div>
</div>


<!-- Modal PopUP Order-->
<div class="container d-flex justify-content-center mt-100">
  <!-- Button to Open the Modal -->
  <!-- The Modal -->
  <div class="modal fade" id="modal1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{product?.nameProduct}}</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <!-- Modal body -->
        <div class="modal-body" data-spy="scroll">
          <div class="container">
            <div class="row">
              <div>
                <div class="col">
                  <img class="img-fluid" src="./assets/img/bac-xiu.jpg">
                </div>
                <div class="col-xs-7 flex-custum" style="padding-top: 2vh;">
                  <ul type="none">
                    <li class="font-weight-bold">{{product?.nameProduct}}</li>
                    <li class="font-weight-light">{{product?.descriptionProduct}}
                    </li>
                  </ul>
                </div>
                <div class="d-flex justify-content-around align-items-center">
                  <span class="font-weight-bold">{{product?.priceProduct * quatity}}đ</span>
                  <div class="d-flex justify-content-between align-items-center">
                    <a class="px-2" (click)="subQuatity()" *ngIf="quatity === 1">
                      <i class='bx bx-minus-circle bx-md' style='color:#fa8c16'></i>
                    </a>
                    <a class="px-2" (click)="subQuatity()" *ngIf="quatity > 1">
                      <i class='bx bxs-minus-circle bx-md' style='color:#fa8c16'></i>
                    </a>
                    <span>{{quatity}}</span>
                    <a class="px-2" (click)="addQuality()" >
                      <i class='bx bxs-plus-circle bx-md'
                         style='color:#fa8c16'></i>
                    </a>
                  </div>
                </div>
                <!--<div class="input-group mb-3 my-2">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1"><i class='bx bx-notepad'
                                                                            style='color:#fa8c16'></i></span>
                    </div>
                    <input type="text" class="form-control" placeholder="Ghi chú thêm cho món này"
                           aria-label="Username" aria-describedby="basic-addon1">
                </div>-->
              </div>
            </div>
            <!--                       <div>
                                       <div class="product-option mb-2">
                                           <span>CHỌN SIZE (BẮT BUỘC)</span>
                                       </div>
                                       <div class="form-check ml-5">
                                           <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1"
                                                  value="option1" checked>
                                           <label class="form-check-label" for="exampleRadios1">
                                               Vừa <br>
                                               +0đ
                                           </label>
                                       </div>
                                   </div>
                                   <div>
                                       <div class="product-option mb-2">
                                           <span>chọn topping (tùy chọn)</span>
                                       </div>
                                       <div class="ml-5">
                                           <div class="d-flex justify-content-between align-items-center">
                                               <label>Kem Phô Mai Macchiato <br>
                                                   + 10.000đ
                                               </label>
                                               <div class="d-flex justify-content-between">
                                                   <a class="px-2" href="#"><i class='bx bx-minus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                                   <span>0</span>
                                                   <a class="px-2" href="#"><i class='bx bxs-plus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                               </div>
                                           </div>
                                           <hr>
                                           <div class="d-flex justify-content-between align-items-center">
                                               <label>Miếng Đào <br>
                                                   + 10.000đ
                                               </label>
                                               <div class="d-flex justify-content-between">
                                                   <a class="px-2" href="#"><i class='bx bx-minus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                                   <span>0</span>
                                                   <a class="px-2" href="#"><i class='bx bxs-plus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                               </div>
                                           </div>
                                           <hr>
                                           <div class="d-flex justify-content-between align-items-center">
                                               <label>Kem Phô Mai Macchiato <br>
                                                   + 10.000đ
                                               </label>
                                               <div class="d-flex justify-content-between">
                                                   <a class="px-2" href="#"><i class='bx bx-minus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                                   <span>0</span>
                                                   <a class="px-2" href="#"><i class='bx bxs-plus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                               </div>
                                           </div>
                                           <hr>
                                           <div class="d-flex justify-content-between align-items-center">
                                               <label>Kem Phô Mai Macchiato <br>
                                                   + 10.000đ
                                               </label>
                                               <div class="d-flex justify-content-between">
                                                   <a class="px-2" href="#"><i class='bx bx-minus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                                   <span>0</span>
                                                   <a class="px-2" href="#"><i class='bx bxs-plus-circle bx-sm'
                                                                               style='color:#fa8c16'></i></a>
                                               </div>
                                           </div>
                                       </div>
                                   </div>
                                   &lt;!&ndash;                  <div class="row">
                                                         <div class="col-xs-6">
                                                             <ul type="none">
                                                                 <li class="left">Order number:</li>
                                                                 <li class="left">Date:</li>
                                                                 <li class="left">Price:</li>
                                                                 <li class="left">Shipping:</li>
                                                                 <li class="left">Total Price:</li>
                                                             </ul>
                                                         </div>
                                                         <div class="col-xs-6">
                                                             <ul class="right" type="none">
                                                                 <li class="right">#BBRT-3456981</li>
                                                                 <li class="right">19-03-2020</li>
                                                                 <li class="right">$690</li>
                                                                 <li class="right">$30</li>
                                                                 <li class="right">$720</li>
                                                             </ul>
                                                         </div>
                                                     </div>&ndash;&gt;
                               </div>
                           </div>-->

            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="submit"
                      class="btn btn-primary btn-lg btn-block btn-custom" (click)="addOrderDetail(product?.idProduct)">{{product?.priceProduct * quatity}}
                - Thêm vào
                giỏ
                hàng
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function a() {
    var a = 0;
    a = a + 1;
  }
</script>
