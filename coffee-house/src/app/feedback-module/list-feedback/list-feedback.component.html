<div class="main" >
  <div class="container-flutter">
    <div class="table-title">
      <h1 style="font-size: 35px !important;">Danh sách phản hồi</h1>
    </div>

    <div class="row justify-content-between align-items-center">
      <div class="col-10">
        <form method="post" class="d-flex align-items-center form__search justify-content-end"
              (ngSubmit)="search()" [formGroup]="searchFeedback">
          <label>Ngày phản hồi</label>
          <input type="date" class="form-control" formControlName="date">
          <button class="ml-3 button__1" data-target="#searchError" data-toggle="modal" (click)="search()">
            <i class='bx bx-search'></i>
          </button>
          <button class="btn btn1-primary" (click)="ngOnInit()">Hiện tất cả</button>
        </form>
      </div>
    </div>
  </div>
</div>

  <h3 *ngIf="message; else elseBlock" style="display: flex; justify-content: center">Not Found!</h3>
  <ng-template #elseBlock>
  <table class="table">
    <tr>
      <th>STT</th>
      <th>Mã số phản hồi</th>
      <th>Ngày phản hồi</th>
      <th>Người tạo</th>
      <th>Email</th>
      <th>Phản hồi</th>
      <th></th>
    </tr>
    <tr *ngFor="let feedback of feedbackList;index as i">
      <div hidden>{{feedback.idFeedback}}</div>
      <td>{{i + 1}}</td>
      <td>{{feedback.codeFeedback}}</td>
      <td >{{feedback.dateFeedback | date: 'dd/MM/yyyy'}}</td>
      <td>{{feedback.namePeopleFeedback}}</td>
      <td>{{feedback.emailPeopleFeedback}}</td>
      <td style="overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 300px;">{{feedback.contentFeedback}}</td>
<!--      <td><a data-bs-toggle="modal" data-bs-target="#feedbackInfo"><i class="fas fa-eye" style="color: #FA8C16"></i></a></td>-->
      <td><button type="button" class="btn1" data-toggle="modal" data-target="#feedbackInfo" (click)="getDetailFeedback(feedback.idFeedback)">
        Chi tiết
      </button></td>
    </tr>
  </table>

  <div style="display: flex; justify-content: center">
    <nav>
      <ul  style="display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    padding-left: 0;
    list-style: none;
    border-radius: 1rem;
    font-size: 16px">
        <li [hidden]="totalPagination==1" class="page-item"><a class="page-link1" (click)="firstPage()">Đầu</a></li>
        <li [hidden]="totalPagination==1" class="page-item"><a class="page-link1" (click)="previousPage()">Trang trước</a></li>
        <li [hidden]="totalPagination==1" class="page-item" *ngFor="let paginationButton of totalPaginationArray">
          <a class="page-link1" (click)="findPagination(paginationButton.valueOf())">{{paginationButton.valueOf()}}</a></li>
<!--        <li class="page-item col-md-1 col-2  px-0">-->
<!--          <div class="input-group">-->
<!--            <input [hidden]="totalPagination==1" type="number" min="1" class="form-control text-right rounded-0"-->
<!--                   aria-describedby="basic-addon1" [value]="indexPagination" (change)="indexPaginationChange($event)">-->
<!--          </div>-->
<!--        </li>-->
<!--        <li>-->
<!--          <div class="input-group-prepend">-->
<!--            <span class="input-group-text" id="basic-addon1">{{totalPagination}}</span>-->
<!--          </div>-->
<!--        </li>-->
        <li [hidden]="totalPagination==1" class="page-item"><a class="page-link1" (click)="nextPage()">Trang sau</a></li>
        <li [hidden]="totalPagination==1" class="page-item"><a class="page-link1" (click)="lastPage()">Cuối</a></li>
      </ul>
    </nav>
  </div>
  </ng-template>

  <div class="modal fade font-modal" id="feedbackInfo">
    <div class=" modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content" style="border-radius: 1rem;">
          <div class="modal-header" style="display:inline; border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;">
            <h5 class="modal-title">Chi tiết phản hồi</h5>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="row">
                <div class="col-4">Mã số phản hồi: </div>
                <div class="col-8">{{feedbackDetail.codeFeedback}}</div>
              </div>
              <div class="row">
                <div class="col-4">Ngày phản hồi: </div>
                <div class="col-8">{{feedbackDetail.dateFeedback}}</div>
              </div>
              <div class="row">
                <div class="col-4">Người tạo: </div>
                <div class="col-8">{{feedbackDetail.namePeopleFeedback}}</div>
              </div>
              <div class="row">
                <div class="col-4">Phản hồi: </div>
                <div class="col-8">{{feedbackDetail.contentFeedback}} </div>
              </div>
              <div class="row">
                <div class="col-12">Hình ảnh</div>
                <div class="col-4"><img id="myImg" class="demo cursor" src="{{feedbackDetail.imageFeedback}}" style="width:100%" alt="image"></div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
    </div>
  </div>
  <div id="myModal" class="modal1">

    <!-- The Close Button -->
    <span class="close">&times;</span>

    <!-- Modal Content (The Image) -->
    <img class="modal1-content" id="img01">

    <!-- Modal Caption (Image Text) -->
    <div id="caption"></div>
  </div>
<!--  <div class="footer">Copyright @2022</div>-->
