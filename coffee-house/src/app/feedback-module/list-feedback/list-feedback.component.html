<div class="main" >
  <div class="container-flutter">
    <div class="table-title">
      <h1 style="font-size: 35px !important;">Danh sách phản hồi</h1>
    </div>
    <div class="row" style="display: flex; justify-content: right">
      <div class="col-10">
        <form method="post" class="d-flex align-items-center form__search justify-content-end"
              (ngSubmit)="search()" [formGroup]="searchFeedback">
          <label>Ngày phản hồi</label>
          <input type="date" class="form-control" formControlName="date">
          <button class="ml-3 button__1" data-target="#searchError" data-toggle="modal" (click)="search()">
            <i class='bx bx-search'></i>
          </button>
          <button class="btn btn1-primary" (click)="ngOnInit()">Hiện tất cả</button>
        </form>
      </div>
    </div>
  </div>
</div>
<h3 *ngIf="message; else elseBlock" style="display: flex; justify-content: center">Not Found!</h3>
<ng-template #elseBlock>
  <table class="table">
    <tr>
      <th>STT</th>
      <th>Mã số phản hồi</th>
      <th>Ngày phản hồi</th>
      <th>Người tạo</th>
      <th>Email</th>
      <th>Phản hồi</th>
      <th></th>
    </tr>
    <tr *ngFor="let feedback of feedbackList;index as i">
      <div hidden>{{feedback.idFeedback}}</div>
      <td>{{i + 1}}</td>
      <td>{{feedback.codeFeedback}}</td>
      <td >{{feedback.dateFeedback | date: 'dd/MM/yyyy'}}</td>
      <td>{{feedback.namePeopleFeedback}}</td>
      <td>{{feedback.emailPeopleFeedback}}</td>
      <td style="overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 300px;">{{feedback.contentFeedback}}</td>
      <td class="action">
        <a href="#" data-toggle="modal" data-target="#feedbackInfo" (click)="getDetailFeedback(feedback.idFeedback)">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
            <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
            <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
          </svg>
          <!--          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"-->
          <!--               class="bi bi-pencil-square" viewBox="0 0 16 16">-->
          <!--            <path-->
          <!--              d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>-->
          <!--            <path fill-rule="evenodd"-->
          <!--                  d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>-->
          <!--          </svg>-->
        </a>
      </td>
      <!--      <td><a data-bs-toggle="modal" data-bs-target="#feedbackInfo"><i class="fas fa-eye" style="color: #FA8C16"></i></a></td>-->
      <!--      <td><button type="button" class="btn" data-toggle="modal" data-target="#feedbackInfo" (click)="getDetailFeedback(feedback.idFeedback)">-->
      <!--        Chi tiết-->
      <!--      </button></td>-->
    </tr>
  </table>
  <!--  <div style="display: flex; justify-content: right">-->
  <!--    <nav>-->
  <!--      <ul  style="display: -webkit-box;-->
  <!--    display: -ms-flexbox;-->
  <!--    display: flex;-->
  <!--    padding-left: 0;-->
  <!--    list-style: none;-->
  <!--    border-radius: 1rem;-->
  <!--    font-size: 16px">-->
  <!--        <li [hidden]="totalPagination==1" class="page-item"><a class="page-link" (click)="previousPage()">Trang trước</a></li>-->
  <!--        <li [hidden]="totalPagination==1" class="page-item" *ngFor="let paginationButton of totalPaginationArray">-->
  <!--          <a class="page-link" (click)="findPagination(paginationButton.valueOf())">{{paginationButton.valueOf()}}</a></li>-->
  <!--        <li [hidden]="totalPagination==1" class="page-item"><a class="page-link" (click)="nextPage()">Trang sau</a></li>-->
  <!--      </ul>-->
  <!--    </nav>-->
  <!--  </div>-->
  <div class="clearfix">
    <nav aria-label="...">
      <ul class="pagination">
        <div *ngIf="indexPagination > 0; then enablePrevious else disablePrevious"></div>
        <ng-template #enablePrevious>
          <li class="page-item">
            <span class="page-link" (click)="previousPage()">Trang trước</span>
          </li>
        </ng-template>
        <ng-template #disablePrevious>
          <li class="page-item disabled">
            <span class="page-link">Trang trước</span>
          </li>
        </ng-template>
        <div *ngFor="let page of totalPaginationArray; index as i">
          <div *ngIf="indexPagination == i; then isCurrentPage else notCurrentPage"></div>
          <ng-template #isCurrentPage>
            <li class="page-item active">
              <span class="page-link" (click)="indexPaginationChange(i)">{{i + 1}}</span>
            </li>
          </ng-template>
          <ng-template #notCurrentPage>
            <li class="page-item">
              <span class="page-link" (click)="indexPaginationChange(i)">{{i + 1}}</span>
            </li>
          </ng-template>
        </div>
        <div *ngIf="indexPagination < totalPaginationArray.length - 1; then enableNext else disableNext"></div>
        <ng-template #enableNext>
          <li class="page-item">
            <span class="page-link" (click)="nextPage()">Trang sau</span>
          </li>
        </ng-template>
        <ng-template #disableNext>
          <li class="page-item disabled">
            <span class="page-link">Trang sau</span>
          </li>
        </ng-template>
      </ul>
    </nav>
  </div>
</ng-template>
<!--Modal-->
<div class="modal fade font-modal" id="feedbackInfo">
  <div class=" modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content" style="border-radius: 1rem;">
      <div class="modal-header" style="display:inline; border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;">
        <h5 class="modal-title">Chi tiết phản hồi</h5>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <div class="col-4">Mã số phản hồi: </div>
            <div class="col-8">{{feedbackDetail.codeFeedback}}</div>
          </div>
          <div class="row">
            <div class="col-4">Ngày phản hồi: </div>
            <div class="col-8">{{feedbackDetail.dateFeedback}}</div>
          </div>
          <div class="row">
            <div class="col-4">Người tạo: </div>
            <div class="col-8">{{feedbackDetail.namePeopleFeedback}}</div>
          </div>
          <div class="row">
            <div class="col-4">Phản hồi: </div>
            <div class="col-8">{{feedbackDetail.contentFeedback}} </div>
          </div>
          <div class="row">
            <div class="col-12">Hình ảnh</div>
            <div class="col-4"><img id="myImg" class="demo cursor" src="{{feedbackDetail.imageFeedback}}" style="width:100%" alt="image"></div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div id="myModal" class="modal1">
  <!-- The Close Button -->
  <span class="close">&times;</span>
  <!-- Modal Content (The Image) -->
  <img class="modal1-content" id="img01">
  <!-- Modal Caption (Image Text) -->
  <div id="caption"></div>
</div>
<!--  <div class="footer">Copyright @2022</div>-->
